import{r as e}from"./index-CTwvR5gB.js";const Y=(r,x={})=>{const{threshold:h=100,preventScrollOnSwipe:C=!1}=x,[i,d]=e.useState(!1),[s,f]=e.useState(null),[n,l]=e.useState(null),[S,c]=e.useState(!1),p=e.useCallback(o=>{if(o.touches.length!==1)return;const a=o.touches[0],t={x:a.clientX,y:a.clientY};d(!0),f(t),l(t),c(!1),r.onSwipeStart?.()},[r]),T=e.useCallback(o=>{if(!i||!s||o.touches.length!==1)return;const a=o.touches[0],t={x:a.clientX,y:a.clientY},u=Math.abs(t.x-s.x),g=Math.abs(t.y-s.y);u>g&&u>10&&(c(!0),C&&o.preventDefault()),l(t)},[i,s,C]),b=e.useCallback(()=>{if(!i||!s||!n){d(!1),f(null),l(null),c(!1);return}const o=n.x-s.x,a=Math.abs(n.y-s.y);Math.abs(o)>h&&Math.abs(o)>a&&(o>0?r.onSwipeRight?.():r.onSwipeLeft?.()),d(!1),f(null),l(null),c(!1),r.onSwipeEnd?.()},[i,s,n,h,r]),M=e.useCallback(()=>!s||!n?0:n.x-s.x,[s,n]),w=e.useCallback(()=>{const o=Math.abs(M());return Math.min(o/h,1)},[M,h]);return{swipeHandlers:{onTouchStart:p,onTouchMove:T,onTouchEnd:b,onTouchCancel:b},isDragging:S,isPressed:i,getSwipeDistance:M,getSwipeProgress:w,swipeDirection:s&&n?n.x>s.x?"right":"left":null}},y=(r,x={})=>{const{threshold:h=500,onStart:C,onFinish:i,onCancel:d}=x,[s,f]=e.useState(!1),n=e.useRef(null),l=e.useRef(null),S=e.useCallback((t,u)=>{f(!0),l.current={x:t,y:u},C?.(),n.current=setTimeout(()=>{r(),i?.(),f(!1)},h)},[r,h,C,i]),c=e.useCallback((t=!0)=>{n.current&&(clearTimeout(n.current),n.current=null),s&&t&&d?.(),f(!1),l.current=null},[s,d]),p=e.useCallback((t,u)=>{if(!l.current)return;const g=10,k=Math.abs(t-l.current.x),v=Math.abs(u-l.current.y);(k>g||v>g)&&c(!0)},[c]),T=e.useCallback(t=>{t.preventDefault(),S(t.clientX,t.clientY)},[S]),b=e.useCallback(()=>{c(!0)},[c]),M=e.useCallback(t=>{s&&p(t.clientX,t.clientY)},[s,p]),w=e.useCallback(()=>{c(!0)},[c]),P=e.useCallback(t=>{if(t.touches.length===1){const u=t.touches[0];S(u.clientX,u.clientY)}},[S]),o=e.useCallback(()=>{c(!0)},[c]),a=e.useCallback(t=>{if(s&&t.touches.length===1){const u=t.touches[0];p(u.clientX,u.clientY)}},[s,p]);return{isPressed:s,handlers:{onMouseDown:T,onMouseUp:b,onMouseMove:M,onMouseLeave:w,onTouchStart:P,onTouchEnd:o,onTouchMove:a}}};export{y as a,Y as u};
