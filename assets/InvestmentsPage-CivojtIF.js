import{u as v,r,d,j as e}from"./index-DEemqsSM.js";import{u as f,i as N,g as y,b as w}from"./useCardExpansion-CPBgE9c9.js";const L=()=>{const{t}=v(),[i,c]=r.useState([]),[n,x]=r.useState(""),[o,h]=r.useState(!0),{toggleCardExpansion:p,isExpanded:u}=f();r.useEffect(()=>{g()},[]);const g=async()=>{try{const s=await d.getInvestments();c(s)}catch(s){console.error("Failed to load investments:",s)}finally{h(!1)}},j=async s=>{if(window.confirm(t("investments.delete_confirm")))try{await d.deleteInvestment(s),c(a=>a.filter(l=>l.id!==s))}catch(a){console.error("Failed to delete investment:",a)}},m=i.filter(s=>s.content.toLowerCase().includes(n.toLowerCase()));return o?e.jsx("div",{className:"container mx-auto px-8 py-12",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-2xl mx-auto mb-4 flex items-center justify-center animate-pulse",children:e.jsx("span",{className:"text-3xl",children:"💰"})}),e.jsx("p",{className:"text-muted",children:"Loading..."})]})})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 py-6 sm:py-12",children:[e.jsx("div",{className:"mb-6 sm:mb-8",children:e.jsxs("div",{className:"bg-primary text-white rounded-xl sm:rounded-2xl p-4 sm:p-8 mb-6 sm:mb-8 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/25 rounded-lg mr-3 sm:mr-4 flex items-center justify-center",children:e.jsx("span",{className:"text-xl sm:text-2xl",children:"💰"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h2",{className:"text-xl sm:text-3xl font-bold tracking-tight truncate",children:t("investments.title")}),e.jsx("p",{className:"opacity-90 text-sm sm:text-lg",children:t("investments.subtitle")})]})]}),e.jsx("div",{className:"bg-white/95 rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-md",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n,onChange:s=>x(s.target.value),placeholder:t("investments.search"),className:"w-full px-4 py-3 text-base border-0 bg-transparent focus:outline-none placeholder-gray-400 text-primary"}),e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("span",{className:"text-xl text-muted",children:"🔍"})})]})})]})}),e.jsx("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:e.jsx("h2",{className:"text-lg sm:text-2xl font-semibold",children:n?`검색 결과 (${m.length}${t("investments.count")})`:`전체 (${i.length}${t("investments.count")})`})}),m.length===0?e.jsxs("div",{className:"text-center py-12 sm:py-16",children:[e.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-primary/10 rounded-2xl mx-auto mb-4 sm:mb-6 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl sm:text-4xl",children:"💰"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-semibold mb-2 sm:mb-3",children:t(n?"search.no_results":"investments.empty_all")}),e.jsx("p",{className:"text-muted text-base sm:text-lg px-4",children:t(n?"search.no_results_subtitle":"investments.empty_subtitle")})]}):e.jsx("div",{className:"grid gap-4 sm:gap-6",children:m.map(s=>{const a=N(s.content),l=u(s.id),b=a&&!l?y(s.content):s.content;return e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl sm:rounded-2xl p-4 sm:p-8 border border-primary/10 hover:border-primary/20 transition-all duration-300 hover:shadow-lg group",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 pr-2 sm:pr-4",children:[e.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[e.jsx("span",{className:"text-xl sm:text-2xl mr-2 sm:mr-3",children:"💰"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium px-2 py-1 sm:px-3 sm:py-1 bg-green-100 text-green-700 rounded-full",children:t("type.investment")})]}),e.jsxs("div",{className:"mb-3 sm:mb-4",children:[e.jsx("p",{className:"text-sm sm:text-lg leading-relaxed text-gray-800 whitespace-pre-line",children:b}),a&&e.jsx("button",{onClick:()=>p(s.id),className:"mt-2 text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:l?"접기":"...더보기"})]}),e.jsx("div",{className:"flex items-center text-xs sm:text-sm text-muted",children:e.jsx("span",{children:w(s.createdAt)})})]}),e.jsx("button",{onClick:()=>j(s.id),className:"opacity-60 sm:opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-all duration-200 p-1 sm:p-2 hover:bg-red-50 rounded-lg flex-shrink-0",title:"삭제",children:e.jsx("span",{className:"text-lg sm:text-xl",children:"🗑️"})})]})},s.id)})})]})};export{L as InvestmentsPage};
