import{r as u,u as g,j as i}from"./index-CkiIdOd7.js";const l=t=>{const e=/#\w+/g,s=t.match(e);return s?s.map(o=>o.toLowerCase()):[]},x=t=>l(t).some(s=>s==="#rad"),h=t=>{const e=l(t),s=e.findIndex(o=>o==="#rad");return s===-1?[]:e.slice(s+1)},p=t=>t.replace(/#\w+/g,"").trim().replace(/\s+/g," "),f=t=>{if(!x(t))return null;const e=h(t);return{type:"radiology",content:p(t),tags:l(t),subtags:e,icon:"🏥",description:e.length>0?`Radiology note with tags: ${e.join(", ")}`:"Radiology note"}};function b(t){const e=t.trim();if(e.endsWith("'")||e.endsWith(";;"))return{type:"investment",content:e.endsWith(";;")?e.slice(0,-2).trim():e.slice(0,-1).trim(),icon:"💰",description:"투자로 저장",statusMessage:"내 투자에 저장됩니다"};const s=f(e);if(s)return{...s,statusMessage:"영상의학에 저장됩니다"};if(e.endsWith(";")){let o=e.slice(0,-1).trim(),a;const r=/\s@(.+)$/,n=o.match(r);if(n&&n[1]){const m=n[1],d=new Date(m);isNaN(d.getTime())||(a=d,o=o.replace(r,"").trim())}return{type:"todo",content:o,icon:"✅",description:a?`할 일로 저장 (마감일: ${a.toLocaleDateString()})`:"할 일로 저장 + 캘린더 등록",dueDate:a,statusMessage:"내 할 일에 저장됩니다"}}return{type:"thought",content:e,icon:"💭",description:"내 생각으로 저장",statusMessage:"내 생각에 저장됩니다"}}const c=t=>t.split(`
`),w=(t,e=5)=>c(t).length>e,j=(t,e=5)=>{const s=c(t);return s.length<=e?t:s.slice(0,e).join(`
`)},v=(t,e)=>{const s={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Intl.DateTimeFormat("ko-KR",e||s).format(new Date(t))},N=t=>new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).format(new Date(t)),C=t=>new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"long"}).format(t),R=()=>{const[t,e]=u.useState(new Set);return{expandedCards:t,toggleCardExpansion:a=>{e(r=>{const n=new Set(r);return n.has(a)?n.delete(a):n.add(a),n})},isExpanded:a=>t.has(a)}},D=({isOpen:t,currentCategory:e,onCategorySelect:s,onClose:o})=>{const{t:a}=g(),r=[{id:"thought",label:a("type.thought"),icon:"💭",description:"생각이나 아이디어를 기록합니다"},{id:"todo",label:a("type.todo"),icon:"✅",description:"할 일로 관리하고 완료 상태를 추적합니다"},{id:"investment",label:a("type.investment"),icon:"💰",description:"투자 관련 정보를 기록합니다"},{id:"radiology",label:a("type.radiology"),icon:"🔬",description:"영상의학 노트로 태그와 함께 관리합니다"}];return t?i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[80vh] overflow-hidden",children:[i.jsxs("div",{className:"bg-primary text-white p-6 pb-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-bold",children:"카테고리 변경"}),i.jsx("button",{onClick:o,className:"text-white/80 hover:text-white text-2xl font-light","aria-label":"Close",children:"×"})]}),i.jsx("p",{className:"text-white/90 text-sm mt-2",children:"이 항목을 다른 카테고리로 이동하시겠어요?"})]}),i.jsx("div",{className:"p-6 space-y-3",children:r.map(n=>i.jsx("button",{onClick:()=>s(n.id),disabled:n.id===e,className:`w-full p-4 rounded-xl border-2 transition-all duration-200 text-left ${n.id===e?"border-primary/30 bg-primary/5 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-primary hover:bg-primary/5 cursor-pointer"}`,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"text-2xl mr-3",children:n.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"font-semibold text-primary mb-1",children:[n.label,n.id===e&&i.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"(현재)"})]}),i.jsx("div",{className:"text-sm text-gray-600",children:n.description})]})]})},n.id))}),i.jsx("div",{className:"px-6 pb-6",children:i.jsx("button",{onClick:o,className:"w-full py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-medium transition-colors",children:"취소"})})]})}):null};export{D as C,C as a,v as b,b as c,N as f,j as g,w as i,R as u};
